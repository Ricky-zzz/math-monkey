{% load static %}
<div
    class="navbar fixed bg-base-100 backdrop-blur-md shadow-sm px-3 py-2 z-50 rounded-b-3xl max-w-7xl border-b-2 border-x-2 border-primary mx-auto sm:mx-9">
    <div class="flex-1 min-w-0">
        <a class="btn btn-ghost px-0 sm:px-2 gap-1 sm:gap-2 hover:bg-transparent" @click="scene = 'menu'">
            <img src="{% static 'imgs/monke.jpg' %}" alt="Math Monkey"
                class="w-12 h-12  rounded-full border-4 border-primary object-cover">
            <span class="hidden sm:block sm:text-3xl font-black text-primary tracking-tighter truncate drop-shadow-sm">
                MathMonkey
            </span>
        </a>
    </div>
    <div class="flex-none flex items-center gap-3">
        <button @click="toggleMute(); playSFX('pop')" class="btn btn-circle btn-ghost btn-sm">
            <svg x-show="!isMuted" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6 text-primary">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M19.114 5.636a9 9 0 010 12.728M16.463 8.288a5.25 5.25 0 010 7.424M6.75 8.25l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
            </svg>

            <svg x-show="isMuted" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                stroke="currentColor" class="w-6 h-6 text-gray-400">
                <path stroke-linecap="round" stroke-linejoin="round"
                    d="M17.25 9.75L19.5 12m0 0l2.25 2.25M19.5 12l2.25-2.25M19.5 12l-2.25 2.25m-10.5-6l4.72-4.72a.75.75 0 011.28.53v15.88a.75.75 0 01-1.28.53l-4.72-4.72H4.51c-.88 0-1.704-.507-1.938-1.354A9.01 9.01 0 012.25 12c0-.83.112-1.633.322-2.396C2.806 8.756 3.63 8.25 4.51 8.25H6.75z" />
            </svg>
        </button>

        <div class="flex items-center bg-white rounded-2xl shadow-sm border-2 border-base-300 h-10 sm:h-12">

            <div class="flex flex-col justify-center items-center px-4 py-1 h-full">
                <span class="text-[10px] sm:text-xs font-bold  text-rose-700 uppercase leading-none mb-0.5">Lvl</span>
                <span class="text-sm sm:text-xl font-black text-rose-700 leading-none" x-text="userLevel">
                    {{ user.profile.level }}
                </span>
            </div>

            <div class="w-0.5 h-6 bg-base-200"></div>

            <div class="flex flex-col justify-center items-center px-4 py-1 h-full">
                <span class="text-[10px] sm:text-xs font-bold text-sky-700 uppercase leading-none mb-0.5">MMR</span>
                <span class="text-sm sm:text-xl font-black text-sky-700  leading-none" x-text="userMMR">
                    {{ user.profile.mmr }}
                </span>
            </div>
        </div>

        <div class="dropdown dropdown-end">
            <div tabindex="0" role="button"
                class="btn btn-ghost btn-circle avatar placeholder ring ring-offset-2 ring-offset-base-100 ring-accent h-10 w-10 min-h-0">
                <div class="bg-neutral text-neutral-content rounded-full w-9 sm:w-10">
                    <span class="text-lg sm:text-xl font-bold">{{ user.username|slice:":1"|upper }}</span>
                </div>
            </div>
            <ul tabindex="0"
                class="mt-3 z-[1] p-2 shadow-xl menu menu-sm dropdown-content bg-base-100 rounded-box w-52 text-base-content border border-base-200">
                <li class="menu-title px-4 py-2 text-info">Hi, I'm {{ user.username }}!</li>
                <li><a @click.prevent="openProfile()">Profile</a></li>
                <li>
                    <a @click.prevent="toggleTheme()" class="justify-between">
                        <span x-text="theme === 'forest' ? 'Light Mode ' : 'Dark Mode '"></span>
                        <input type="checkbox" class="toggle toggle-sm toggle-primary" :checked="theme === 'forest'" />
                    </a>
                </li>
                <li><a href="{% url 'logout' %}">Logout</a></li>
            </ul>
        </div>

    </div>
</div>